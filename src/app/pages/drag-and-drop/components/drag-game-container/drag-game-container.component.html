<div class="drag-game-container">
  <div
    cdkDropList
    id="puzzleBox"
    [cdkDropListData]="pieces"
    [cdkDropListConnectedTo]="gridIds"
    cdkDropListOrientation="mixed"
    class="puzzle-box"
    (cdkDropListDropped)="drop($event)"
  >
    @for (item of pieces; track item) {
    <div class="puzzle-piece" cdkDrag>{{ item }}</div>
    }
  </div>

  <div class="puzzle-playground">
    <div
      class="grid"
      [style.grid-template-rows]="'repeat(' + columns + ', 80px)'"
      [style.grid-template-columns]="'repeat(' + rows + ', 80px)'"
    >
      @for (id of gridIds; track id) {
      <div
        class="grid__item"
        [id]="id"
        cdkDropList
        [cdkDropListData]="gridData[id]"
        [cdkDropListConnectedTo]="connectedLists"
        [cdkDropListEnterPredicate]="canEnter"
        (cdkDropListDropped)="drop($event)"
      >
        @for (piece of gridData[id]; track piece) {
        <div class="puzzle-piece" cdkDrag>{{ piece }}</div>
        }
      </div>
      }
    </div>
  </div>
</div>
